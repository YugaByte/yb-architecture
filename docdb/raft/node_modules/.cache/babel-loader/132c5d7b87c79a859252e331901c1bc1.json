{"ast":null,"code":"import _classCallCheck from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/andrew/code/yb-architecture/animations/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrew/code/yb-architecture/animations/src/AnimationRunner.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Constants } from './constants';\n\nvar HelperFunctions = require('./HelperFunctions');\n\nvar RUN_MODE_CONTINUOUS = \"CONTINOUS\";\n\nvar AnimationRunner =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AnimationRunner, _Component);\n\n  function AnimationRunner(props) {\n    var _this;\n\n    _classCallCheck(this, AnimationRunner);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnimationRunner).call(this, props));\n    _this.onPlayClicked = _this.onPlayClicked.bind(_assertThisInitialized(_this));\n    _this.onRestartClicked = _this.onRestartClicked.bind(_assertThisInitialized(_this));\n    _this.state = {\n      animationPlaying: false\n    };\n    return _this;\n  }\n\n  _createClass(AnimationRunner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.mainTextSect = document.getElementById('main-text-sect'); // HelperFunctions.delayedNext(this,100);\n\n      setTimeout(function () {\n        return _this2.next();\n      }, 100);\n    }\n  }, {\n    key: \"changeMainText\",\n    value: function changeMainText(text, onComplete) {\n      HelperFunctions.setTextWithAnimation(this.mainTextSect, text, onComplete);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this3 = this;\n\n      this.setState({\n        animationPlaying: true\n      });\n      var promise = this.currentAnimation.onNext();\n      promise.then(function (result) {\n        console.log('Result: ' + JSON.stringify(result));\n\n        _this3.setState({\n          animationPlaying: false\n        });\n\n        setTimeout(function () {\n          if (_this3.runMode == RUN_MODE_CONTINUOUS) {\n            _this3.currentAnimation.resume();\n\n            _this3.next();\n          } else {\n            _this3.currentAnimation.pause();\n          }\n        }, result.delay ? result.delay : Constants.DEFAULT_DELAY);\n      });\n    }\n  }, {\n    key: \"previous\",\n    value: function previous() {\n      var _this4 = this;\n\n      this.setState({\n        animationPlaying: true\n      });\n      var promise = this.currentAnimation.onPrevious();\n      promise.then(function (result) {\n        console.log('Undo: ' + JSON.stringify(result));\n\n        _this4.setState({\n          animationPlaying: false\n        });\n\n        setTimeout(function () {\n          if (_this4.runMode == RUN_MODE_CONTINUOUS) {\n            _this4.currentAnimation.resume();\n\n            _this4.next();\n          } else {\n            _this4.currentAnimation.pause();\n          }\n        }, result.delay ? result.delay : Constants.DEFAULT_DELAY);\n      });\n    }\n  }, {\n    key: \"onPlayClicked\",\n    value: function onPlayClicked() {\n      this.next();\n    }\n  }, {\n    key: \"onRestartClicked\",\n    value: function onRestartClicked() {\n      this.restart();\n    }\n  }, {\n    key: \"onPreviousClicked\",\n    value: function onPreviousClicked() {\n      this.previous();\n    }\n  }, {\n    key: \"restart\",\n    value: function restart() {\n      window.location.reload();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      // In React, names starting with a capital letter will compile to the createComponent method\n      // (credit: https://medium.com/@Carmichaelize/dynamic-tag-names-in-react-and-jsx-17e366a684e9)\n      // This is done so that we can use animationToRun as a tag in the JSX below\n      var Animation = this.props.animationToRun;\n      var disableNext = this.state.animationPlaying || this.currentAnimation && this.currentAnimation.state.animationFinished;\n      var disablePrevious = this.state.animationPlaying || this.currentAnimation && !this.currentAnimation.state.previousEnabled || this.currentAnimation && this.currentAnimation.animationState === Constants.ANIMATION_STATE_INITIAL;\n      return React.createElement(\"div\", {\n        className: \"animation-runner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"main-text-sect\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Animation, {\n        ref: function ref(n) {\n          return _this5.currentAnimation = n;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"control-btns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"animation-ctrl-previous\",\n        className: \"yb-btn\",\n        disabled: disablePrevious,\n        onClick: this.onPreviousClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-undo\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"yb-button-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Previous\")), React.createElement(\"button\", {\n        id: \"animation-ctrl-next\",\n        className: \"yb-btn\",\n        disabled: disableNext,\n        onClick: this.onPlayClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-play\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"yb-button-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"Next\")), React.createElement(\"button\", {\n        id: \"animation-ctrl-restart\",\n        className: \"yb-btn\",\n        onClick: this.onRestartClicked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-fast-backward\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"yb-button-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Restart\"))));\n    }\n  }]);\n\n  return AnimationRunner;\n}(Component);\n\nexport default AnimationRunner;","map":{"version":3,"sources":["/Users/andrew/code/yb-architecture/animations/src/AnimationRunner.js"],"names":["React","Component","Constants","HelperFunctions","require","RUN_MODE_CONTINUOUS","AnimationRunner","props","onPlayClicked","bind","onRestartClicked","state","animationPlaying","mainTextSect","document","getElementById","setTimeout","next","text","onComplete","setTextWithAnimation","setState","promise","currentAnimation","onNext","then","result","console","log","JSON","stringify","runMode","resume","pause","delay","DEFAULT_DELAY","onPrevious","restart","previous","window","location","reload","Animation","animationToRun","disableNext","animationFinished","disablePrevious","previousEnabled","animationState","ANIMATION_STATE_INITIAL","n","onPreviousClicked"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport {Constants} from './constants';\n\nvar HelperFunctions = require('./HelperFunctions');\n\nconst RUN_MODE_CONTINUOUS = \"CONTINOUS\";\n\nclass AnimationRunner extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onPlayClicked = this.onPlayClicked.bind(this);\n\t\tthis.onRestartClicked = this.onRestartClicked.bind(this);\n\n\t\tthis.state = {\n\t\t\tanimationPlaying: false,\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tthis.mainTextSect = document.getElementById('main-text-sect');\n\t\t// HelperFunctions.delayedNext(this,100);\n\t\tsetTimeout(() => this.next(), 100);\n\t}\n\tchangeMainText(text, onComplete) {\n\t\tHelperFunctions.setTextWithAnimation(this.mainTextSect, text, onComplete);\n\t}\n\n\tnext(){\n\t\tthis.setState({ animationPlaying: true });\n\n\t\tvar promise = this.currentAnimation.onNext();\n\t\tpromise.then( result => {\n\t\t\tconsole.log('Result: ' + JSON.stringify(result));\n\t\t\tthis.setState({ animationPlaying: false });\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.runMode == RUN_MODE_CONTINUOUS ) {\n\t\t\t\t\tthis.currentAnimation.resume();\n\t\t\t\t\tthis.next();\n\t\t\t\t} else {\n\t\t\t\t\tthis.currentAnimation.pause();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(result.delay?result.delay:Constants.DEFAULT_DELAY));\n\t\t});\n\t}\n\n\tprevious() {\n\t\tthis.setState({ animationPlaying: true });\n\n\t\tvar promise = this.currentAnimation.onPrevious();\n\t\tpromise.then( result => {\n\t\t\tconsole.log('Undo: ' + JSON.stringify(result));\n\t\t\tthis.setState({ animationPlaying: false });\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.runMode == RUN_MODE_CONTINUOUS ) {\n\t\t\t\t\tthis.currentAnimation.resume();\n\t\t\t\t\tthis.next();\n\t\t\t\t} else {\n\t\t\t\t\tthis.currentAnimation.pause();\n\t\t\t\t}\n\t\t\t},\n\t\t\t(result.delay?result.delay:Constants.DEFAULT_DELAY));\n\t\t});\n\t}\n\n\tonPlayClicked() {\n\t\tthis.next();\n\t}\n\tonRestartClicked() {\n\t\tthis.restart();\n\t}\n\tonPreviousClicked() {\n\t\tthis.previous();\n\t}\n\n\trestart() {\n\t\twindow.location.reload();\n\t}\n\n\trender() {\n\t\t// In React, names starting with a capital letter will compile to the createComponent method\n\t\t// (credit: https://medium.com/@Carmichaelize/dynamic-tag-names-in-react-and-jsx-17e366a684e9)\n\t\t// This is done so that we can use animationToRun as a tag in the JSX below\n\t\tconst Animation = this.props.animationToRun;\n\t\tconst disableNext = this.state.animationPlaying || \n\t\t\t(this.currentAnimation && this.currentAnimation.state.animationFinished);\n\t\tconst disablePrevious = this.state.animationPlaying ||\n\t\t\t(this.currentAnimation && !this.currentAnimation.state.previousEnabled) ||\n\t\t\t(this.currentAnimation && this.currentAnimation.animationState === Constants.ANIMATION_STATE_INITIAL);\n\t\treturn(\n\t\t\t<div className=\"animation-runner\">\n\t\t\t\t<div id=\"main-text-sect\"></div>\n\t\t\t\t<Animation ref={n => this.currentAnimation = n}></Animation>\n\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t<button id=\"animation-ctrl-previous\" className=\"yb-btn\" disabled={disablePrevious} onClick={this.onPreviousClicked}>\n\t\t\t\t\t\t<i className=\"fas fa-undo\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t<span className=\"yb-button-text\">Previous</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id=\"animation-ctrl-next\" className=\"yb-btn\" disabled={disableNext} onClick={this.onPlayClicked}>\n\t\t\t\t\t\t<i className=\"fas fa-play\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t<span className=\"yb-button-text\">Next</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id=\"animation-ctrl-restart\" className=\"yb-btn\" onClick={this.onRestartClicked}>\n\t\t\t\t\t\t<i className=\"fas fa-fast-backward\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t<span className=\"yb-button-text\">Restart</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AnimationRunner;\n"]},"metadata":{},"sourceType":"module"}